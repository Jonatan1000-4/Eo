<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>EMTV - Portal Multimedia TV</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Carga de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Configuraci√≥n para usar la fuente Inter y colores personalizados -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        
        /* Definiciones de color para Tailwind JIT */
        :root {
            --color-bg-dark: #070a16;
            --color-card-bg: #10162a;
            --color-header-bg: #1a223a;
            --color-primary: #0ea5e9;
            --focus-glow: 0 0 20px 4px rgba(14, 165, 233, 1);
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--color-bg-dark);
            min-height: 100vh;
            /* Ocultar overflow horizontal, clave para TV */
            overflow: hidden; 
        }

        /* Estilo de enfoque (Focus Glow) */
        .card-focus:focus {
            outline: none;
            transform: scale(1.05);
            border-color: var(--color-primary);
            box-shadow: var(--focus-glow);
            z-index: 10;
        }

        .header-btn-focus:focus {
            outline: none;
            color: #ff5555;
            background-color: rgba(255, 85, 85, 0.1);
            box-shadow: 0 0 5px rgba(255, 85, 85, 0.5), inset 0 0 5px rgba(255, 85, 85, 0.5);
        }

        /* Fuerza el color para el √≠cono de Cerrar Sesi√≥n cuando est√° enfocado */
        .header-btn-focus:focus .icon-lock {
            color: #ff5555;
        }

    </style>
</head>
<body class="flex flex-col antialiased">

    <!-- BARRA DE ESTADO (HEADER) -->
    <header class="sticky top-0 w-full h-16 bg-[var(--color-header-bg)] 
                   flex justify-between items-center px-12 border-b-2 border-sky-500/20 
                   shadow-xl z-50">
        
        <div class="text-3xl font-extrabold text-[var(--color-primary)] tracking-wider 
                    shadow-sky-500/40" style="text-shadow: 0 0 5px rgba(14, 165, 233, 0.4);">
            EMTV
        </div>
        
        <div class="flex items-center space-x-8 text-sm text-slate-400">
            <span class="flex items-center space-x-1">
                <span class="text-xl">üìÖ</span>
                <span id="currentDate"></span>
            </span>
            <span class="flex items-center space-x-1">
                <span class="text-xl">‚è∞</span>
                <span id="currentTime"></span>
            </span>
            <span class="text-sm">
                Sesi√≥n: <strong id="sessionStatus" class="text-slate-200 font-medium">Activa (Usuario 123)</strong>
            </span>
            
            <!-- Bot√≥n de Cierre de Sesi√≥n (Index 4 en la navegaci√≥n JS) -->
            <a href="logout.html" id="logoutBtn" class="header-btn-focus transition duration-300 
                       text-slate-400 hover:text-red-400 p-2 rounded-lg 
                       focus:scale-[1.05] focus:ring-2 focus:ring-red-500/50 focus:text-red-400 
                       flex items-center space-x-2" 
                       tabindex="5">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 icon-lock transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                </svg>
                <span>Cerrar Sesi√≥n</span>
            </a>
        </div>
    </header>

    <!-- CONTENIDO PRINCIPAL (Centrado y Compacto) -->
    <div class="flex flex-grow justify-center items-center py-20 px-10">
        <div class="w-full max-w-6xl">

            <h1 class="text-6xl font-extralight text-slate-100 mb-20 text-center">
                ¬øQu√© quieres ver hoy?
            </h1>

            <!-- Grid de Contenido (4 Columnas) -->
            <div class="grid grid-cols-4 gap-10">
                
                <!-- Card 1 (Index 0) -->
                <a href="ad.html" id="card-0" class="content-card card-focus w-full h-full bg-[var(--color-card-bg)] rounded-xl 
                   shadow-2xl transition duration-300 hover:shadow-sky-500/30 
                   border-4 border-transparent p-6 flex flex-col justify-start" 
                   tabindex="1">
                    <span class="text-6xl mb-4 text-[var(--color-primary)]">üì∫</span>
                    <h2 class="text-2xl font-bold mb-1">TV en Vivo</h2>
                    <p class="text-sm text-slate-400">Acceso directo a todos los canales disponibles (M3U).</p>
                </a>
                
                <!-- Card 2 (Index 1) -->
                <a href="ac.html" id="card-1" class="content-card card-focus w-full h-full bg-[var(--color-card-bg)] rounded-xl 
                   shadow-2xl transition duration-300 hover:shadow-sky-500/30 
                   border-4 border-transparent p-6 flex flex-col justify-start" 
                   tabindex="2">
                    <span class="text-6xl mb-4 text-[var(--color-primary)]">üéûÔ∏è</span>
                    <h2 class="text-2xl font-bold mb-1">Pel√≠culas & Cine</h2>
                    <p class="text-sm text-slate-400">Explora nuestra colecci√≥n completa de largometrajes.</p>
                </a>
                
                <!-- Card 3 (Index 2) -->
                <a href="af.html" id="card-2" class="content-card card-focus w-full h-full bg-[var(--color-card-bg)] rounded-xl 
                   shadow-2xl transition duration-300 hover:shadow-sky-500/30 
                   border-4 border-transparent p-6 flex flex-col justify-start" 
                   tabindex="3">
                    <span class="text-6xl mb-4 text-[var(--color-primary)]">üìÇ</span>
                    <h2 class="card-title">Series</h2>
                    <p class="text-sm text-slate-400">Lista de reproducci√≥n de tus series favoritas (M3U).</p>
                </a>

                <!-- Card 4 (Index 3) -->
                <a href="info.html" id="card-3" class="content-card card-focus w-full h-full bg-[var(--color-card-bg)] rounded-xl 
                   shadow-2xl transition duration-300 hover:shadow-sky-500/30 
                   border-4 border-transparent p-6 flex flex-col justify-start" 
                   tabindex="4">
                    <span class="text-6xl mb-4 text-[var(--color-primary)]">‚öôÔ∏è</span>
                    <h2 class="text-2xl font-bold mb-1">Soporte & Info</h2>
                    <p class="text-sm text-slate-400">Configuraci√≥n de cuenta, gu√≠as y asistencia t√©cnica.</p>
                </a>
                
            </div>
        </div>
    </div>

<script>
    // --- L√ìGICA DE NAVEGACI√ìN POR CONTROL REMOTO (FOCUS MANAGEMENT) ---
    
    // Obtener todos los elementos enfocables en el orden deseado (Cards 0-3, Header Btn 4)
    const focusableElements = [
        document.getElementById('card-0'),
        document.getElementById('card-1'),
        document.getElementById('card-2'),
        document.getElementById('card-3'),
        document.getElementById('logoutBtn')
    ].filter(el => el != null); // Filtrar por si acaso alguno no se encuentra

    let currentFocusIndex = 0;
    const TOTAL_ELEMENTS = focusableElements.length;
    const GRID_SIZE = 4; // N√∫mero de elementos en la fila principal de la cuadr√≠cula

    // Enfocar el primer elemento al cargar
    if (focusableElements.length > 0) {
        focusableElements[0].focus();
    }

    document.addEventListener('keydown', (e) => {
        let nextIndex = currentFocusIndex;
        let preventDefault = true;

        switch (e.key) {
            case 'ArrowRight':
            case 'Right':
                // Mover a la derecha, envuelve al bot√≥n de Logout si est√° en la √∫ltima card
                if (currentFocusIndex === GRID_SIZE - 1) {
                    nextIndex = TOTAL_ELEMENTS - 1; // Salta de Card 3 a Logout
                } else if (currentFocusIndex === TOTAL_ELEMENTS - 1) {
                    nextIndex = 0; // Salta de Logout a Card 0 (wraps around the whole screen)
                } else {
                    nextIndex = (currentFocusIndex + 1);
                }
                break;

            case 'ArrowLeft':
            case 'Left':
                // Mover a la izquierda, envuelve de Logout a la √∫ltima card
                if (currentFocusIndex === 0) {
                    nextIndex = TOTAL_ELEMENTS - 1; // Salta de Card 0 a Logout (wraps around)
                } else if (currentFocusIndex === TOTAL_ELEMENTS - 1) {
                    nextIndex = GRID_SIZE - 1; // Salta de Logout a Card 3
                } else {
                    nextIndex = (currentFocusIndex - 1);
                }
                break;

            case 'ArrowDown':
            case 'Down':
                // Si est√° en la grid principal (0-3), va a Logout (4)
                if (currentFocusIndex >= 0 && currentFocusIndex <= GRID_SIZE - 1) {
                    nextIndex = TOTAL_ELEMENTS - 1; 
                } else {
                    // Si est√° en Logout (4), regresa a Card 0
                    nextIndex = 0;
                }
                break;

            case 'ArrowUp':
            case 'Up':
                // Si est√° en Logout (4), regresa a Card 0
                if (currentFocusIndex === TOTAL_ELEMENTS - 1) {
                    nextIndex = 0;
                } else {
                    // Si est√° en la grid principal (0-3), va a Logout (4)
                    nextIndex = TOTAL_ELEMENTS - 1; 
                }
                break;

            case 'Enter':
            case 'NumpadEnter':
            case 'OK':
                if (focusableElements[currentFocusIndex]) {
                    focusableElements[currentFocusIndex].click();
                }
                return; // No prevenir el comportamiento por defecto del Enter (ya que click es suficiente)
            
            default:
                preventDefault = false; // Permitir otras teclas
                break;
        }

        // Aplicar el nuevo foco si es v√°lido
        if (nextIndex >= 0 && nextIndex < TOTAL_ELEMENTS) {
            currentFocusIndex = nextIndex;
            focusableElements[currentFocusIndex].focus();
            
            // Forzar scroll (importante para elementos que podr√≠an estar fuera de vista)
            focusableElements[currentFocusIndex].scrollIntoView({ behavior: 'smooth', block: 'center' });

            if (preventDefault) {
                e.preventDefault(); 
            }
        }
    });

    // --- L√ìGICA DE FECHA Y HORA ACTUALES ---
    function updateDateTime() {
        const now = new Date();
        const dateOptions = { day: 'numeric', month: 'short', year: 'numeric' };
        const timeOptions = { hour: '2-digit', minute: '2-digit' };

        // Evitar errores si los elementos no existen (aunque no deber√≠a pasar)
        const dateEl = document.getElementById('currentDate');
        const timeEl = document.getElementById('currentTime');

        if (dateEl) dateEl.textContent = now.toLocaleDateString('es-ES', dateOptions);
        if (timeEl) timeEl.textContent = now.toLocaleTimeString('es-ES', timeOptions);
    }

    updateDateTime();
    setInterval(updateDateTime, 1000); 

</script>

</body>
</html>
