<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>EMTV - Portal Multimedia TV</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Eliminada la carga de Tailwind CSS y la fuente Inter para m√°xima velocidad. -->
    
    <style>
        /* --- ESTILOS OPTIMIZADOS PARA TV BOX VIEJO --- */
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }

        :root {
            /* Colores simples */
            --color-bg-dark: #070a16;
            --color-card-bg: #1a223a;
            --color-header-bg: #1a223a;
            --color-primary: #0ea5e9;
            --color-text-light: #e2e8f0;
            --color-text-mute: #94a3b8;
            --color-danger: #ff5555;
        }

        body {
            /* Usar fuente de sistema (sans-serif) es lo m√°s r√°pido */
            font-family: sans-serif; 
            background-color: var(--color-bg-dark);
            color: var(--color-text-light);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden; 
        }

        /* BARRA DE ESTADO (HEADER) */
        .status-header {
            width: 100%;
            height: 64px;
            background-color: var(--color-header-bg);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 48px;
            border-bottom: 2px solid rgba(14, 165, 233, 0.2);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4); 
            z-index: 50;
        }

        .portal-title {
            font-size: 1.875rem; 
            font-weight: 800;
            color: var(--color-primary);
            text-shadow: 0 0 3px rgba(14, 165, 233, 0.5); 
        }

        .info-group {
            display: flex;
            align-items: center;
            gap: 2rem;
            font-size: 0.875rem;
            color: var(--color-text-mute);
        }
        
        .info-group span {
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        /* Bot√≥n de Cierre de Sesi√≥n */
        #logoutBtn {
            border: 2px solid transparent; /* Para evitar CLS al enfocar */
            background: none;
            color: var(--color-text-mute);
            padding: 0.5rem 0.75rem;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
            cursor: pointer;
            /* Transiciones m√≠nimas o nulas */
            transition: color 0.1s, background-color 0.1s; 
        }
        
        #logoutBtn:focus {
            outline: none;
            color: var(--color-danger);
            background-color: rgba(255, 85, 85, 0.15);
            border-color: var(--color-danger);
            /* REEMPLAZO DE ESCALADO: solo cambio de color */
        }

        #logoutBtn:focus svg {
             color: var(--color-danger);
        }

        /* CONTENIDO PRINCIPAL */
        .main-container {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 5rem 2.5rem;
        }

        .section-title {
            font-size: 3.75rem;
            font-weight: 200;
            color: var(--color-text-light);
            margin-bottom: 5rem;
            text-align: center;
        }

        /* Grid de Contenido */
        .content-grid {
            width: 100%;
            max-width: 1280px;
            display: grid;
            grid-template-columns: repeat(4, minmax(0, 1fr));
            gap: 2.5rem;
        }

        /* Card de Contenido */
        .content-card {
            background-color: var(--color-card-bg);
            border-radius: 0.75rem;
            color: var(--color-text-light);
            text-decoration: none;
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.6); /* Sombra m√°s sutil */
            border: 4px solid transparent; 
            /* REMOVIDO: transform y transiciones costosas */
            transition: border-color 0.1s; 
        }

        .content-card:focus {
            outline: none;
            /* Foco de alto contraste y bajo costo de renderizado */
            border-color: var(--color-primary); 
            box-shadow: 0 0 15px 5px rgba(14, 165, 233, 0.7); 
        }

        .card-icon {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            color: var(--color-primary);
        }

        .card-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }

        .card-description {
            font-size: 0.875rem;
            color: var(--color-text-mute);
        }
    </style>
</head>
<body class="flex flex-col">

    <!-- BARRA DE ESTADO (HEADER) -->
    <header class="status-header">
        
        <div class="portal-title">
            EMTV
        </div>
        
        <div class="info-group">
            <span class="info-item">
                <span class="text-xl">üìÖ</span>
                <span id="currentDate"></span>
            </span>
            <span class="info-item">
                <span class="text-xl">‚è∞</span>
                <span id="currentTime"></span>
            </span>
            <span class="info-item">
                Sesi√≥n: <strong id="sessionStatus" style="color: var(--color-text-light);">Activa (Usuario 123)</strong>
            </span>
            
            <!-- Bot√≥n de Cierre de Sesi√≥n (Index 4 en la navegaci√≥n JS) -->
            <a href="logout.html" id="logoutBtn" tabindex="5">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 icon-lock" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" style="height: 1.25rem; width: 1.25rem;">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                </svg>
                <span>Cerrar Sesi√≥n</span>
            </a>
        </div>
    </header>

    <!-- CONTENIDO PRINCIPAL -->
    <div class="main-container">
        <div class="max-width-wrapper">

            <h1 class="section-title">
                ¬øQu√© quieres ver hoy?
            </h1>

            <!-- Grid de Contenido (4 Columnas) -->
            <div class="content-grid">
                
                <!-- Card 1 (Index 0) -->
                <a href="ad.html" id="card-0" class="content-card" tabindex="1">
                    <span class="card-icon">üì∫</span>
                    <h2 class="card-title">TV en Vivo</h2>
                    <p class="card-description">Acceso directo a todos los canales disponibles (M3U).</p>
                </a>
                
                <!-- Card 2 (Index 1) -->
                <a href="ac.html" id="card-1" class="content-card" tabindex="2">
                    <span class="card-icon">üéûÔ∏è</span>
                    <h2 class="card-title">Pel√≠culas & Cine</h2>
                    <p class="card-description">Explora nuestra colecci√≥n completa de largometrajes.</p>
                </a>
                
                <!-- Card 3 (Index 2) -->
                <a href="af.html" id="card-2" class="content-card" tabindex="3">
                    <span class="card-icon">üìÇ</span>
                    <h2 class="card-title">Series</h2>
                    <p class="card-description">Lista de reproducci√≥n de tus series favoritas (M3U).</p>
                </a>

                <!-- Card 4 (Index 3) -->
                <a href="info.html" id="card-3" class="content-card" tabindex="4">
                    <span class="card-icon">‚öôÔ∏è</span>
                    <h2 class="card-title">Soporte & Info</h2>
                    <p class="card-description">Configuraci√≥n de cuenta, gu√≠as y asistencia t√©cnica.</p>
                </a>
                
            </div>
        </div>
    </div>

<script>
    // --- L√ìGICA DE NAVEGACI√ìN POR CONTROL REMOTO (FOCUS MANAGEMENT) ---
    // Esta l√≥gica es eficiente y se mantiene sin cambios.
    
    // Obtener todos los elementos enfocables en el orden deseado (Cards 0-3, Header Btn 4)
    const focusableElements = [
        document.getElementById('card-0'),
        document.getElementById('card-1'),
        document.getElementById('card-2'),
        document.getElementById('card-3'),
        document.getElementById('logoutBtn')
    ].filter(el => el != null);

    let currentFocusIndex = 0;
    const TOTAL_ELEMENTS = focusableElements.length;
    const GRID_SIZE = 4; // N√∫mero de elementos en la fila principal de la cuadr√≠cula

    // Enfocar el primer elemento al cargar
    if (focusableElements.length > 0) {
        focusableElements[0].focus();
    }

    document.addEventListener('keydown', (e) => {
        let nextIndex = currentFocusIndex;
        let preventDefault = true;

        switch (e.key) {
            case 'ArrowRight':
            case 'Right':
                // Mover a la derecha, envuelve al bot√≥n de Logout si est√° en la √∫ltima card
                if (currentFocusIndex === GRID_SIZE - 1) {
                    nextIndex = TOTAL_ELEMENTS - 1; // Salta de Card 3 a Logout
                } else if (currentFocusIndex === TOTAL_ELEMENTS - 1) {
                    nextIndex = 0; // Salta de Logout a Card 0 (wraps around the whole screen)
                } else {
                    nextIndex = (currentFocusIndex + 1);
                }
                break;

            case 'ArrowLeft':
            case 'Left':
                // Mover a la izquierda, envuelve de Logout a la √∫ltima card
                if (currentFocusIndex === 0) {
                    nextIndex = TOTAL_ELEMENTS - 1; // Salta de Card 0 a Logout (wraps around)
                } else if (currentFocusIndex === TOTAL_ELEMENTS - 1) {
                    nextIndex = GRID_SIZE - 1; // Salta de Logout a Card 3
                } else {
                    nextIndex = (currentFocusIndex - 1);
                }
                break;

            case 'ArrowDown':
            case 'Down':
                // Si est√° en la grid principal (0-3), va a Logout (4)
                if (currentFocusIndex >= 0 && currentFocusIndex <= GRID_SIZE - 1) {
                    nextIndex = TOTAL_ELEMENTS - 1; 
                } else {
                    // Si est√° en Logout (4), regresa a Card 0
                    nextIndex = 0;
                }
                break;

            case 'ArrowUp':
            case 'Up':
                // Si est√° en Logout (4), regresa a Card 0
                if (currentFocusIndex === TOTAL_ELEMENTS - 1) {
                    nextIndex = 0;
                } else {
                    // Si est√° en la grid principal (0-3), va a Logout (4)
                    nextIndex = TOTAL_ELEMENTS - 1; 
                }
                break;

            case 'Enter':
            case 'NumpadEnter':
            case 'OK':
                if (focusableElements[currentFocusIndex]) {
                    focusableElements[currentFocusIndex].click();
                }
                return;
            
            default:
                preventDefault = false;
                break;
        }

        // Aplicar el nuevo foco si es v√°lido
        if (nextIndex >= 0 && nextIndex < TOTAL_ELEMENTS) {
            currentFocusIndex = nextIndex;
            focusableElements[currentFocusIndex].focus();
            
            // Forzar scroll 
            focusableElements[currentFocusIndex].scrollIntoView({ behavior: 'smooth', block: 'center' });

            if (preventDefault) {
                e.preventDefault(); 
            }
        }
    });

    // --- L√ìGICA DE FECHA Y HORA ACTUALES ---
    function updateDateTime() {
        const now = new Date();
        // Usar opciones simples
        const dateOptions = { day: 'numeric', month: 'short', year: 'numeric' }; 
        const timeOptions = { hour: '2-digit', minute: '2-digit' };

        const dateEl = document.getElementById('currentDate');
        const timeEl = document.getElementById('currentTime');

        if (dateEl) dateEl.textContent = now.toLocaleDateString('es-ES', dateOptions);
        if (timeEl) timeEl.textContent = now.toLocaleTimeString('es-ES', timeOptions);
    }

    updateDateTime();
    setInterval(updateDateTime, 1000); 

</script>

</body>
</html>
